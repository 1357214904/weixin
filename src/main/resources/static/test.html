<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"></meta>
    <meta name="viewport" content="width=device-width,height=device-height,inital-scale=1.0,maximum-scale=1.0,user-scalable=no;"></meta>
    <meta name="apple-mobile-web-app-capable" content="yes"></meta>
    <meta name="apple-mobile-web-app-status-bar-style" content="black"></meta>
    <meta name="format-detection" content="telephone=no"></meta>
    <title>预约</title>

	<link rel="stylesheet" href="/css/base.css" />
    <link rel="stylesheet" href="/bootstrap-3.3.7-dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/bootstrap-3.3.7-dist/css/bootstrap-datetimepicker.min.css" />

    <script type="text/javascript" src="/JQ/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="/JQ/jquery.form.js" ></script>
    <script type="text/javascript" src="/JQ/jquery.validate.min.js"></script>
    <script type="text/javascript" src="/JQ/jquery.metadata.js"></script>
    <script type="text/javascript" src="/JQ/validator.js" ></script>

    <script type="text/javascript" src="/bootstrap-3.3.7-dist/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/bootstrap-3.3.7-dist/js/bootstrap-datetimepicker.min.js" ></script>
    <script type="text/javascript" src="/bootstrap-3.3.7-dist/js/bootstrap-datetimepicker.zh-CN.js" charset="UTF-8" ></script>
    <script>
        // 表单信息验证
        $(function() {              
                $("#mianform").validate({
                    rules: {
                        "name": {
                            required: true,
                            maxlength: 20
                        },
                        "phone": {
                            required: true,
                            number: true,                       
                            maxlength: 11,
                            minlength:11,
                            cellphone : true
                        },
                        "idcard": {
                            required: true,
                            maxlength:18,
                            minlength:18,
                            IdCardNo : true
                        },
                        "address": {
                            required: true
                        },
                        "yuyuetime": {
                            required: true
                        },
                        "content": {
                            required: true
                        }
                    },
                    
                    messages: {
                        "name": {
                            required: "<font color='red'>姓名不能为空</font>"
                        },
                        "phone": {
                            required: "<font color='red'>手机号不能为空</font>",
                            number: "<font color='red'>手机号为数字</font>",
                            maxlength: "<font color='red'>手机号为11位</font>",
                            minlength:"<font color='red'>手机号为11位</font>",
                            cellphone :"<font color='red'>请输入正确的手机号</font>"
                        },
                        "idcard": {
                            required: "<font color='red'>身份证不能为空</font>",
                            maxlength: "<font color='red'>身份证号为18位,且由数字或17位数字加X组成</font>",
                            minlength: "<font color='red'>身份证号为18位,且由数字或17位数字加X组成</font>",
                            IdCardNo :"<font color='red'>请输入正确的身份证号</font>"
                        },
                        "address": {
                            required: "<font color='red'>地址不能为空</font>"
                        },
                        "yuyuetime": {
                            required: "<font color='red'>预约时间不能为空</font>"
                        },
                        "content": {
                            required: "<font color='red'>内容不能为空</font>"
                        }
                    }
                });
            });
    </script>
    <script>
    function tijiao() {
        var result = $("#mianform").valid();
        var mydate = $("#yuyuetime").val();
		mydate = mydate.replace("T"," ");
        if (result == true) {
            $.ajax({
					type: "post",
					url: "http://1723120w5s.imwork.net:16460/ZfAppointment/insertZf",
					async: true,
					dataType: 'text',
					data: {
						"name": $("#name").val(),
						"iphone": $("#phone").val(),
						"identityCard": $("#idcard").val(),
						"address": $("#address").val(),
						"appointmentTime": mydate + ":00",
						"Text": $("#content").val()
					},
					timeout: 5000,					
					success : function(data) {
						alert("预约成功");
					}
				})
        }
    }
    </script>
</head>
<body>
    <div class="biankuang">
        <div class="bianju">
            <!-- <img src="img/jiangmen.png" height="80" width="80" alt="" /> -->
            <h3 class="line">预约说明</h3>
            <p>1.预约条件：年满16周所看到哈佛荆防颗粒女的客户方佛教历史女款都是佛法律手段后亏大发过后 </p>
            <p>2.预约条件：年满16周所看到哈佛荆防颗粒女的客户方佛教历史女款都是佛法律手段后亏大发过后 </p>
            <p>3.预约条件：年满16周所看到哈佛荆防颗粒女的客户方佛教历史女款都是佛法律手段后亏大发过后 </p>
            <p>4.预约条件：年满16周所看到哈佛荆防颗粒女的客户方佛教历史女款都是佛法律手段后亏大发过后 </p>
            <p>5.预约条件：年满16周所看到哈佛荆防颗粒女的客户方佛教历史女款都是佛法律手段后亏大发过后 </p>
        </div>
    </div>
    <form id="mianform" role="form" class="form-horizontal" accept-charset="utf-8">
        <div class="biankuang">
            <h4 class="line" style="margin:10px 10px;">请认真填写表单</h4>
            <div class="bianju">
                <div class="form-group">
                    <span class="required">*</span><label for="name" class="control-label">姓名：</label>
                    <input type="text" class="form-control" id="name" name="name" placeholder="请输入你的姓名"/>
                </div>
                <div class="form-group">
                    <span class="required">*</span><label for="phone" class="control-label">手机号：</label>
                    <input type="text" class="form-control" id="phone" name="phone" placeholder="请输入你的手机号码" />
                </div>
                <div class="form-group">
                    <span class="required">*</span><label class="control-label" for="idcard">身份证号：</label>
                    <input type="text" class="form-control" id="idcard" name="idcard" placeholder="请输入你的身份证号" />
                </div>
                <div class="form-group">
                    <span class="required">*</span><label class="control-label" for="address">地址：</label>
                    <input type="text" class="form-control" id="address" name="address" placeholder="请输入你的地址信息" />
                </div>
                <div class="form-group">
                    <span class="required">*</span><label class="control-label" for="yuyuetime">预约时间：</label>
                    <input type="datetime-local" class="form-control" id="yuyuetime" name="yuyuetime"  />
                    <!--<span class="add-on"></span>-->
                </div>
                <div class="form-group">
                    <span class="required">*</span><label class="control-label" for="content">预约内容：</label>
                    <textarea type="text" class="form-control" id="content" name="content"></textarea>
                </div>
                <div class="form-group">
                    <input type="button" class="form-control" name="submit" onclick="tijiao()" value="提交" style="background-color: forestgreen;" />
                </div>
            </div>
        </div>
    </form>
</body>
</html>